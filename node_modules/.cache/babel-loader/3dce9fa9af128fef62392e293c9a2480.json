{"ast":null,"code":"var headers = new Headers({\n  'Content-Type': 'application/json',\n  'Access-Control-Allow-Origin': '*'\n});\nexport var login = function login(user) {\n  fetch(\"http://localhost:5000/api/auth/signin\", {\n    headers: headers,\n    method: \"POST\",\n    body: JSON.stringify(user)\n  }).then(function (res) {\n    if (res.ok) {\n      res.json().then(function (response) {\n        console.log(response);\n        return response;\n      });\n    } else if (res.status == 401) {\n      alert(\"Oops! \");\n    }\n  }, function (e) {\n    alert(\"Error submitting form!\");\n  });\n};\nexport var fetchProjects = function fetchProjects() {\n  return fetch(\"http://localhost:5000/api/project?\", {\n    headers: headers,\n    method: \"GET\"\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    return data.content;\n  });\n};\nexport var uploadImages = function uploadImages(data) {\n  var urls = [];\n  data.pictures.forEach(function (file) {\n    var formData = new FormData();\n    formData.append('file', file);\n    fetch(\"http://localhost:5000/api/project/uploadImage\", {\n      headers: headers,\n      method: \"POST\",\n      body: formData\n    }).then(function (res) {\n      if (res.ok) {\n        res.json().then(function (response) {\n          urls.push(response.url);\n\n          if (urls.length === data.pictures.length) {\n            uploadThumbnail(urls, data);\n          }\n        });\n      } else if (res.status == 401) {\n        alert(\"Oops! \");\n      }\n    }, function (e) {\n      alert(\"Error submitting form!\");\n    });\n  });\n};\nexport var uploadThumbnail = function uploadThumbnail(urls, data) {\n  var formData = new FormData();\n  formData.append('file', data.thumbnail);\n  fetch(\"http://localhost:5000/api/project/uploadImage\", {\n    headers: headers,\n    method: \"POST\",\n    body: formData\n  }).then(function (res) {\n    if (res.ok) {\n      res.json().then(function (response) {\n        createProject(urls, response.url, data.title, data.description, data.type);\n      });\n    } else if (res.status == 401) {\n      alert(\"Oops! \");\n    }\n  }, function (e) {\n    alert(\"Error submitting form!\");\n  });\n};\nexport var createProject = function createProject(urls, thumbnail, title, description, type) {\n  var formData = new FormData();\n  formData.append('title', title);\n  formData.append('type', type);\n  formData.append('thumbnail', thumbnail);\n  formData.append('description', description);\n  formData.append('pictures', urls);\n  fetch(\"http://localhost:5000/api/project/uploadProject\", {\n    headers: headers,\n    method: \"POST\",\n    body: formData\n  }).then(function (res) {\n    if (res.ok) {\n      alert(\"Perfect! \");\n    } else if (res.status == 401) {\n      alert(\"Oops! \");\n    }\n  }, function (e) {\n    alert(\"Error submitting form!\");\n  });\n};","map":{"version":3,"sources":["/Users/christopherho/Projects/christopherhoportfolio-react/src/utils/api.js"],"names":["headers","Headers","login","user","fetch","method","body","JSON","stringify","then","res","ok","json","response","console","log","status","alert","e","fetchProjects","data","content","uploadImages","urls","pictures","forEach","file","formData","FormData","append","push","url","length","uploadThumbnail","thumbnail","createProject","title","description","type"],"mappings":"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","sourcesContent":["const headers = new Headers ({\n  'Content-Type' : 'application/json',\n  'Access-Control-Allow-Origin':'*'\n});\n\nexport const login = (user) => {\n  fetch(\"http://localhost:5000/api/auth/signin\", \n  {\n    headers: headers,\n    method: \"POST\",\n    body: JSON.stringify(user)\n  }).then((res) => {\n    if (res.ok) {\n      res.json().then((response) => {\n        console.log(response)\n        return response\n      });\n    } else if (res.status == 401) {\n      alert(\"Oops! \");\n    }\n  }, function (e) {\n    alert(\"Error submitting form!\");\n  });\n}\n\nexport const fetchProjects = () => {\n\n  return fetch(`http://localhost:5000/api/project?`, {\n    headers,\n    method: \"GET\",\n  })\n  .then(response => response.json())\n  .then(data => data.content)    \n};\n\nexport const uploadImages = (data) => {\n  var urls = []\n  data.pictures.forEach((file) => {\n    let formData = new FormData();\n    formData.append('file', file);\n    fetch(\"http://localhost:5000/api/project/uploadImage\", \n    {\n      headers: headers,\n      method: \"POST\",\n      body: formData\n    }).then((res) => {\n      if (res.ok) {\n        res.json().then((response) => {\n          urls.push(response.url)\n          if(urls.length === data.pictures.length){\n            uploadThumbnail(urls, data)\n          }\n        });\n      } else if (res.status == 401) {\n        alert(\"Oops! \");\n      }\n    }, function (e) {\n      alert(\"Error submitting form!\");\n    });\n  })\n}\n\nexport const uploadThumbnail = (urls, data) => {\n  let formData = new FormData();\n  formData.append('file', data.thumbnail);\n  fetch(\"http://localhost:5000/api/project/uploadImage\", \n  {\n    headers: headers,\n    method: \"POST\",\n    body: formData\n  }).then((res) => {\n    if (res.ok) {\n      res.json().then((response) => {\n        createProject(urls, response.url, data.title, data.description, data.type)\n      });\n    } else if (res.status == 401) {\n      alert(\"Oops! \");\n    }\n  }, function (e) {\n    alert(\"Error submitting form!\");\n  });\n}\n\nexport const createProject = (urls, thumbnail, title, description, type) => {\n  let formData = new FormData();\n  formData.append('title', title);\n  formData.append('type', type);\n  formData.append('thumbnail', thumbnail)\n  formData.append('description', description);\n  formData.append('pictures', urls);\n  fetch(\"http://localhost:5000/api/project/uploadProject\", \n  {\n    headers: headers,\n    method: \"POST\",\n    body: formData\n  }).then(function (res) {\n    if (res.ok) {\n      alert(\"Perfect! \");\n    } else if (res.status == 401) {\n      alert(\"Oops! \");\n    }\n  }, function (e) {\n    alert(\"Error submitting form!\");\n  });\n}\n\n"]},"metadata":{},"sourceType":"module"}